var mod_pagespeed_9c$_wpRQl6 = "/* ------------------------------------------------------------------------\r\n	Class: prettyPhoto\r\n	Use: Lightbox clone for jQuery\r\n	Author: Stephane Caron (http://www.no-margin-for-errors.com)\r\n	Version: 3.1.5\r\n------------------------------------------------------------------------- */\r\n(function($) {\r\n	$.prettyPhoto = {version: '3.1.5'};\r\n	\r\n	$.fn.prettyPhoto = function(pp_settings) {\r\n		pp_settings = jQuery.extend({\r\n			hook: 'rel', /* the attribute tag to use for prettyPhoto hooks. default: 'rel'. For HTML5, use \"data-rel\" or similar. */\r\n			animation_speed: 'fast', /* fast/slow/normal */\r\n			ajaxcallback: function() {},\r\n			slideshow: 5000, /* false OR interval time in ms */\r\n			autoplay_slideshow: false, /* true/false */\r\n			opacity: 0.80, /* Value between 0 and 1 */\r\n			show_title: true, /* true/false */\r\n			allow_resize: true, /* Resize the photos bigger than viewport. true/false */\r\n			allow_expand: true, /* Allow the user to expand a resized image. true/false */\r\n			default_width: 500,\r\n			default_height: 344,\r\n			counter_separator_label: '/', /* The separator for the gallery counter 1 \"of\" 2 */\r\n			theme: 'pp_default', /* light_rounded / dark_rounded / light_square / dark_square / facebook */\r\n			horizontal_padding: 20, /* The padding on each side of the picture */\r\n			hideflash: false, /* Hides all the flash object on a page, set to TRUE if flash appears over prettyPhoto */\r\n			wmode: 'opaque', /* Set the flash wmode attribute */\r\n			autoplay: true, /* Automatically start videos: True/False */\r\n			modal: false, /* If set to true, only the close button will close the window */\r\n			deeplinking: true, /* Allow prettyPhoto to update the url to enable deeplinking. */\r\n			overlay_gallery: true, /* If set to true, a gallery will overlay the fullscreen image on mouse over */\r\n			overlay_gallery_max: 30, /* Maximum number of pictures in the overlay gallery */\r\n			keyboard_shortcuts: true, /* Set to false if you open forms inside prettyPhoto */\r\n			changepicturecallback: function(){}, /* Called everytime an item is shown/changed */\r\n			callback: function(){}, /* Called when prettyPhoto is closed */\r\n			ie6_fallback: true,\r\n			markup: '<div class=\"pp_pic_holder\"> \\\r\n						<div class=\"ppt\">&nbsp;</div> \\\r\n						<div class=\"pp_top\"> \\\r\n							<div class=\"pp_left\"></div> \\\r\n							<div class=\"pp_middle\"></div> \\\r\n							<div class=\"pp_right\"></div> \\\r\n						</div> \\\r\n						<div class=\"pp_content_container\"> \\\r\n							<div class=\"pp_left\"> \\\r\n							<div class=\"pp_right\"> \\\r\n								<div class=\"pp_content\"> \\\r\n									<div class=\"pp_loaderIcon\"></div> \\\r\n									<div class=\"pp_fade\"> \\\r\n										<a href=\"#\" class=\"pp_expand\" title=\"Expand the image\">Expand</a> \\\r\n										<div class=\"pp_hoverContainer\"> \\\r\n											<a class=\"pp_next\" href=\"#\">next</a> \\\r\n											<a class=\"pp_previous\" href=\"#\">previous</a> \\\r\n										</div> \\\r\n										<div id=\"pp_full_res\"></div> \\\r\n										<div class=\"pp_details\"> \\\r\n											<div class=\"pp_nav\"> \\\r\n												<a href=\"#\" class=\"pp_arrow_previous\">Previous</a> \\\r\n												<p class=\"currentTextHolder\">0/0</p> \\\r\n												<a href=\"#\" class=\"pp_arrow_next\">Next</a> \\\r\n											</div> \\\r\n											<p class=\"pp_description\"></p> \\\r\n											<div class=\"pp_social\">{pp_social}</div> \\\r\n											<a class=\"pp_close\" href=\"#\">Close</a> \\\r\n										</div> \\\r\n									</div> \\\r\n								</div> \\\r\n							</div> \\\r\n							</div> \\\r\n						</div> \\\r\n						<div class=\"pp_bottom\"> \\\r\n							<div class=\"pp_left\"></div> \\\r\n							<div class=\"pp_middle\"></div> \\\r\n							<div class=\"pp_right\"></div> \\\r\n						</div> \\\r\n					</div> \\\r\n					<div class=\"pp_overlay\"></div>',\r\n			gallery_markup: '<div class=\"pp_gallery\"> \\\r\n								<a href=\"#\" class=\"pp_arrow_previous\">Previous</a> \\\r\n								<div> \\\r\n									<ul> \\\r\n										{gallery} \\\r\n									</ul> \\\r\n								</div> \\\r\n								<a href=\"#\" class=\"pp_arrow_next\">Next</a> \\\r\n							</div>',\r\n			image_markup: '<img id=\"fullResImage\" src=\"{path}\" />',\r\n			flash_markup: '<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\"{width}\" height=\"{height}\"><param name=\"wmode\" value=\"{wmode}\" /><param name=\"allowfullscreen\" value=\"true\" /><param name=\"allowscriptaccess\" value=\"always\" /><param name=\"movie\" value=\"{path}\" /><embed src=\"{path}\" type=\"application/x-shockwave-flash\" allowfullscreen=\"true\" allowscriptaccess=\"always\" width=\"{width}\" height=\"{height}\" wmode=\"{wmode}\"></embed></object>',\r\n			quicktime_markup: '<object classid=\"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B\" codebase=\"http://www.apple.com/qtactivex/qtplugin.cab\" height=\"{height}\" width=\"{width}\"><param name=\"src\" value=\"{path}\"><param name=\"autoplay\" value=\"{autoplay}\"><param name=\"type\" value=\"video/quicktime\"><embed src=\"{path}\" height=\"{height}\" width=\"{width}\" autoplay=\"{autoplay}\" type=\"video/quicktime\" pluginspage=\"http://www.apple.com/quicktime/download/\"></embed></object>',\r\n			iframe_markup: '<iframe src =\"{path}\" width=\"{width}\" height=\"{height}\" frameborder=\"no\"></iframe>',\r\n			inline_markup: '<div class=\"pp_inline\">{content}</div>',\r\n			custom_markup: '',\r\n			social_tools: '<div class=\"twitter\"><a href=\"http://twitter.com/share\" class=\"twitter-share-button\" data-count=\"none\">Tweet</a>\u003cscript type=\"text/javascript\" src=\"http://platform.twitter.com/widgets.js\"><\/script></div><div class=\"facebook\"><iframe src=\"//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23\" scrolling=\"no\" frameborder=\"0\" style=\"border:none; overflow:hidden; width:500px; height:23px;\" allowTransparency=\"true\"></iframe></div>' /* html or false to disable */\r\n		}, pp_settings);\r\n		\r\n		// Global variables accessible only by prettyPhoto\r\n		var matchedObjects = this, percentBased = false, pp_dimensions, pp_open,\r\n		\r\n		// prettyPhoto container specific\r\n		pp_contentHeight, pp_contentWidth, pp_containerHeight, pp_containerWidth,\r\n		\r\n		// Window size\r\n		windowHeight = $(window).height(), windowWidth = $(window).width(),\r\n\r\n		// Global elements\r\n		pp_slideshow;\r\n		\r\n		doresize = true, scroll_pos = _get_scroll();\r\n	\r\n		// Window/Keyboard events\r\n		$(window).unbind('resize.prettyphoto').bind('resize.prettyphoto',function(){ _center_overlay(); _resize_overlay(); });\r\n		\r\n		if(pp_settings.keyboard_shortcuts) {\r\n			$(document).unbind('keydown.prettyphoto').bind('keydown.prettyphoto',function(e){\r\n				if(typeof $pp_pic_holder != 'undefined'){\r\n					if($pp_pic_holder.is(':visible')){\r\n						switch(e.keyCode){\r\n							case 37:\r\n								$.prettyPhoto.changePage('previous');\r\n								e.preventDefault();\r\n								break;\r\n							case 39:\r\n								$.prettyPhoto.changePage('next');\r\n								e.preventDefault();\r\n								break;\r\n							case 27:\r\n								if(!settings.modal)\r\n								$.prettyPhoto.close();\r\n								e.preventDefault();\r\n								break;\r\n						};\r\n						// return false;\r\n					};\r\n				};\r\n			});\r\n		};\r\n		\r\n		/**\r\n		* Initialize prettyPhoto.\r\n		*/\r\n		$.prettyPhoto.initialize = function() {\r\n			\r\n			settings = pp_settings;\r\n			\r\n			if(settings.theme == 'pp_default') settings.horizontal_padding = 16;\r\n			\r\n			// Find out if the picture is part of a set\r\n			theRel = $(this).attr(settings.hook);\r\n			galleryRegExp = /\\[(?:.*)\\]/;\r\n			isSet = (galleryRegExp.exec(theRel)) ? true : false;\r\n			\r\n			// Put the SRCs, TITLEs, ALTs into an array.\r\n			pp_images = (isSet) ? jQuery.map(matchedObjects, function(n, i){ if($(n).attr(settings.hook).indexOf(theRel) != -1) return $(n).attr('href'); }) : $.makeArray($(this).attr('href'));\r\n			pp_titles = (isSet) ? jQuery.map(matchedObjects, function(n, i){ if($(n).attr(settings.hook).indexOf(theRel) != -1) return ($(n).find('img').attr('alt')) ? $(n).find('img').attr('alt') : \"\"; }) : $.makeArray($(this).find('img').attr('alt'));\r\n			pp_descriptions = (isSet) ? jQuery.map(matchedObjects, function(n, i){ if($(n).attr(settings.hook).indexOf(theRel) != -1) return ($(n).attr('title')) ? $(n).attr('title') : \"\"; }) : $.makeArray($(this).attr('title'));\r\n			\r\n			if(pp_images.length > settings.overlay_gallery_max) settings.overlay_gallery = false;\r\n			\r\n			set_position = jQuery.inArray($(this).attr('href'), pp_images); // Define where in the array the clicked item is positionned\r\n			rel_index = (isSet) ? set_position : $(\"a[\"+settings.hook+\"^='\"+theRel+\"']\").index($(this));\r\n			\r\n			_build_overlay(this); // Build the overlay {this} being the caller\r\n			\r\n			if(settings.allow_resize)\r\n				$(window).bind('scroll.prettyphoto',function(){ _center_overlay(); });\r\n			\r\n			\r\n			$.prettyPhoto.open();\r\n			\r\n			return false;\r\n		}\r\n\r\n\r\n		/**\r\n		* Opens the prettyPhoto modal box.\r\n		* @param image {String,Array} Full path to the image to be open, can also be an array containing full images paths.\r\n		* @param title {String,Array} The title to be displayed with the picture, can also be an array containing all the titles.\r\n		* @param description {String,Array} The description to be displayed with the picture, can also be an array containing all the descriptions.\r\n		*/\r\n		$.prettyPhoto.open = function(event) {\r\n			if(typeof settings == \"undefined\"){ // Means it's an API call, need to manually get the settings and set the variables\r\n				settings = pp_settings;\r\n				pp_images = $.makeArray(arguments[0]);\r\n				pp_titles = (arguments[1]) ? $.makeArray(arguments[1]) : $.makeArray(\"\");\r\n				pp_descriptions = (arguments[2]) ? $.makeArray(arguments[2]) : $.makeArray(\"\");\r\n				isSet = (pp_images.length > 1) ? true : false;\r\n				set_position = (arguments[3])? arguments[3]: 0;\r\n				_build_overlay(event.target); // Build the overlay {this} being the caller\r\n			}\r\n			\r\n			if(settings.hideflash) $('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility','hidden'); // Hide the flash\r\n\r\n			_checkPosition($(pp_images).size()); // Hide the next/previous links if on first or last images.\r\n		\r\n			$('.pp_loaderIcon').show();\r\n		\r\n			if(settings.deeplinking)\r\n				setHashtag();\r\n		\r\n			// Rebuild Facebook Like Button with updated href\r\n			if(settings.social_tools){\r\n				facebook_like_link = settings.social_tools.replace('{location_href}', encodeURIComponent(location.href)); \r\n				$pp_pic_holder.find('.pp_social').html(facebook_like_link);\r\n			}\r\n			\r\n			// Fade the content in\r\n			if($ppt.is(':hidden')) $ppt.css('opacity',0).show();\r\n			$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);\r\n\r\n			// Display the current position\r\n			$pp_pic_holder.find('.currentTextHolder').text((set_position+1) + settings.counter_separator_label + $(pp_images).size());\r\n\r\n			// Set the description\r\n			if(typeof pp_descriptions[set_position] != 'undefined' && pp_descriptions[set_position] != \"\"){\r\n				$pp_pic_holder.find('.pp_description').show().html(unescape(pp_descriptions[set_position]));\r\n			}else{\r\n				$pp_pic_holder.find('.pp_description').hide();\r\n			}\r\n			\r\n			// Get the dimensions\r\n			movie_width = ( parseFloat(getParam('width',pp_images[set_position])) ) ? getParam('width',pp_images[set_position]) : settings.default_width.toString();\r\n			movie_height = ( parseFloat(getParam('height',pp_images[set_position])) ) ? getParam('height',pp_images[set_position]) : settings.default_height.toString();\r\n			\r\n			// If the size is % based, calculate according to window dimensions\r\n			percentBased=false;\r\n			if(movie_height.indexOf('%') != -1) { movie_height = parseFloat(($(window).height() * parseFloat(movie_height) / 100) - 150); percentBased = true; }\r\n			if(movie_width.indexOf('%') != -1) { movie_width = parseFloat(($(window).width() * parseFloat(movie_width) / 100) - 150); percentBased = true; }\r\n			\r\n			// Fade the holder\r\n			$pp_pic_holder.fadeIn(function(){\r\n				// Set the title\r\n				(settings.show_title && pp_titles[set_position] != \"\" && typeof pp_titles[set_position] != \"undefined\") ? $ppt.html(unescape(pp_titles[set_position])) : $ppt.html('&nbsp;');\r\n				\r\n				imgPreloader = \"\";\r\n				skipInjection = false;\r\n				\r\n				// Inject the proper content\r\n				switch(_getFileType(pp_images[set_position])){\r\n					case 'image':\r\n						imgPreloader = new Image();\r\n\r\n						// Preload the neighbour images\r\n						nextImage = new Image();\r\n						if(isSet && set_position < $(pp_images).size() -1) nextImage.src = pp_images[set_position + 1];\r\n						prevImage = new Image();\r\n						if(isSet && pp_images[set_position - 1]) prevImage.src = pp_images[set_position - 1];\r\n\r\n						$pp_pic_holder.find('#pp_full_res')[0].innerHTML = settings.image_markup.replace(/{path}/g,pp_images[set_position]);\r\n\r\n						imgPreloader.onload = function(){\r\n							// Fit item to viewport\r\n							pp_dimensions = _fitToViewport(imgPreloader.width,imgPreloader.height);\r\n\r\n							_showContent();\r\n						};\r\n\r\n						imgPreloader.onerror = function(){\r\n							alert('Image cannot be loaded. Make sure the path is correct and image exist.');\r\n							$.prettyPhoto.close();\r\n						};\r\n					\r\n						imgPreloader.src = pp_images[set_position];\r\n					break;\r\n				\r\n					case 'youtube':\r\n						pp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\r\n						\r\n						// Regular youtube link\r\n						movie_id = getParam('v',pp_images[set_position]);\r\n						\r\n						// youtu.be link\r\n						if(movie_id == \"\"){\r\n							movie_id = pp_images[set_position].split('youtu.be/');\r\n							movie_id = movie_id[1];\r\n							if(movie_id.indexOf('?') > 0)\r\n								movie_id = movie_id.substr(0,movie_id.indexOf('?')); // Strip anything after the ?\r\n\r\n							if(movie_id.indexOf('&') > 0)\r\n								movie_id = movie_id.substr(0,movie_id.indexOf('&')); // Strip anything after the &\r\n						}\r\n\r\n						movie = 'http://www.youtube.com/embed/'+movie_id;\r\n						(getParam('rel',pp_images[set_position])) ? movie+=\"?rel=\"+getParam('rel',pp_images[set_position]) : movie+=\"?rel=1\";\r\n							\r\n						if(settings.autoplay) movie += \"&autoplay=1\";\r\n					\r\n						toInject = settings.iframe_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);\r\n					break;\r\n				\r\n					case 'vimeo':\r\n						pp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\r\n					\r\n						movie_id = pp_images[set_position];\r\n						var regExp = /http(s?):\\/\\/(www\\.)?vimeo.com\\/(\\d+)/;\r\n						var match = movie_id.match(regExp);\r\n						\r\n						movie = 'http://player.vimeo.com/video/'+ match[3] +'?title=0&amp;byline=0&amp;portrait=0';\r\n						if(settings.autoplay) movie += \"&autoplay=1;\";\r\n				\r\n						vimeo_width = pp_dimensions['width'] + '/embed/?moog_width='+ pp_dimensions['width'];\r\n				\r\n						toInject = settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,pp_dimensions['height']).replace(/{path}/g,movie);\r\n					break;\r\n				\r\n					case 'quicktime':\r\n						pp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\r\n						pp_dimensions['height']+=15; pp_dimensions['contentHeight']+=15; pp_dimensions['containerHeight']+=15; // Add space for the control bar\r\n				\r\n						toInject = settings.quicktime_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);\r\n					break;\r\n				\r\n					case 'flash':\r\n						pp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\r\n					\r\n						flash_vars = pp_images[set_position];\r\n						flash_vars = flash_vars.substring(pp_images[set_position].indexOf('flashvars') + 10,pp_images[set_position].length);\r\n\r\n						filename = pp_images[set_position];\r\n						filename = filename.substring(0,filename.indexOf('?'));\r\n					\r\n						toInject =  settings.flash_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+'?'+flash_vars);\r\n					break;\r\n				\r\n					case 'iframe':\r\n						pp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\r\n				\r\n						frame_url = pp_images[set_position];\r\n						frame_url = frame_url.substr(0,frame_url.indexOf('iframe')-1);\r\n\r\n						toInject = settings.iframe_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{path}/g,frame_url);\r\n					break;\r\n					\r\n					case 'ajax':\r\n						doresize = false; // Make sure the dimensions are not resized.\r\n						pp_dimensions = _fitToViewport(movie_width,movie_height);\r\n						doresize = true; // Reset the dimensions\r\n					\r\n						skipInjection = true;\r\n						$.get(pp_images[set_position],function(responseHTML){\r\n							toInject = settings.inline_markup.replace(/{content}/g,responseHTML);\r\n							$pp_pic_holder.find('#pp_full_res')[0].innerHTML = toInject;\r\n							_showContent();\r\n						});\r\n						\r\n					break;\r\n					\r\n					case 'custom':\r\n						pp_dimensions = _fitToViewport(movie_width,movie_height); // Fit item to viewport\r\n					\r\n						toInject = settings.custom_markup;\r\n					break;\r\n				\r\n					case 'inline':\r\n						// to get the item height clone it, apply default width, wrap it in the prettyPhoto containers , then delete\r\n						myClone = $(pp_images[set_position]).clone().append('<br clear=\"all\" />').css({'width':settings.default_width}).wrapInner('<div id=\"pp_full_res\"><div class=\"pp_inline\"></div></div>').appendTo($('body')).show();\r\n						doresize = false; // Make sure the dimensions are not resized.\r\n						pp_dimensions = _fitToViewport($(myClone).width(),$(myClone).height());\r\n						doresize = true; // Reset the dimensions\r\n						$(myClone).remove();\r\n						toInject = settings.inline_markup.replace(/{content}/g,$(pp_images[set_position]).html());\r\n					break;\r\n				};\r\n\r\n				if(!imgPreloader && !skipInjection){\r\n					$pp_pic_holder.find('#pp_full_res')[0].innerHTML = toInject;\r\n				\r\n					// Show content\r\n					_showContent();\r\n				};\r\n			});\r\n\r\n			return false;\r\n		};\r\n\r\n	\r\n		/**\r\n		* Change page in the prettyPhoto modal box\r\n		* @param direction {String} Direction of the paging, previous or next.\r\n		*/\r\n		$.prettyPhoto.changePage = function(direction){\r\n			currentGalleryPage = 0;\r\n			\r\n			if(direction == 'previous') {\r\n				set_position--;\r\n				if (set_position < 0) set_position = $(pp_images).size()-1;\r\n			}else if(direction == 'next'){\r\n				set_position++;\r\n				if(set_position > $(pp_images).size()-1) set_position = 0;\r\n			}else{\r\n				set_position=direction;\r\n			};\r\n			\r\n			rel_index = set_position;\r\n\r\n			if(!doresize) doresize = true; // Allow the resizing of the images\r\n			if(settings.allow_expand) {\r\n				$('.pp_contract').removeClass('pp_contract').addClass('pp_expand');\r\n			}\r\n\r\n			_hideContent(function(){ $.prettyPhoto.open(); });\r\n		};\r\n\r\n\r\n		/**\r\n		* Change gallery page in the prettyPhoto modal box\r\n		* @param direction {String} Direction of the paging, previous or next.\r\n		*/\r\n		$.prettyPhoto.changeGalleryPage = function(direction){\r\n			if(direction=='next'){\r\n				currentGalleryPage ++;\r\n\r\n				if(currentGalleryPage > totalPage) currentGalleryPage = 0;\r\n			}else if(direction=='previous'){\r\n				currentGalleryPage --;\r\n\r\n				if(currentGalleryPage < 0) currentGalleryPage = totalPage;\r\n			}else{\r\n				currentGalleryPage = direction;\r\n			};\r\n			\r\n			slide_speed = (direction == 'next' || direction == 'previous') ? settings.animation_speed : 0;\r\n\r\n			slide_to = currentGalleryPage * (itemsPerPage * itemWidth);\r\n\r\n			$pp_gallery.find('ul').animate({left:-slide_to},slide_speed);\r\n		};\r\n\r\n\r\n		/**\r\n		* Start the slideshow...\r\n		*/\r\n		$.prettyPhoto.startSlideshow = function(){\r\n			if(typeof pp_slideshow == 'undefined'){\r\n				$pp_pic_holder.find('.pp_play').unbind('click').removeClass('pp_play').addClass('pp_pause').click(function(){\r\n					$.prettyPhoto.stopSlideshow();\r\n					return false;\r\n				});\r\n				pp_slideshow = setInterval($.prettyPhoto.startSlideshow,settings.slideshow);\r\n			}else{\r\n				$.prettyPhoto.changePage('next');	\r\n			};\r\n		}\r\n\r\n\r\n		/**\r\n		* Stop the slideshow...\r\n		*/\r\n		$.prettyPhoto.stopSlideshow = function(){\r\n			$pp_pic_holder.find('.pp_pause').unbind('click').removeClass('pp_pause').addClass('pp_play').click(function(){\r\n				$.prettyPhoto.startSlideshow();\r\n				return false;\r\n			});\r\n			clearInterval(pp_slideshow);\r\n			pp_slideshow=undefined;\r\n		}\r\n\r\n\r\n		/**\r\n		* Closes prettyPhoto.\r\n		*/\r\n		$.prettyPhoto.close = function(){\r\n			if($pp_overlay.is(\":animated\")) return;\r\n			\r\n			$.prettyPhoto.stopSlideshow();\r\n			\r\n			$pp_pic_holder.stop().find('object,embed').css('visibility','hidden');\r\n			\r\n			$('div.pp_pic_holder,div.ppt,.pp_fade').fadeOut(settings.animation_speed,function(){ $(this).remove(); });\r\n			\r\n			$pp_overlay.fadeOut(settings.animation_speed, function(){\r\n				\r\n				if(settings.hideflash) $('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility','visible'); // Show the flash\r\n				\r\n				$(this).remove(); // No more need for the prettyPhoto markup\r\n				\r\n				$(window).unbind('scroll.prettyphoto');\r\n				\r\n				clearHashtag();\r\n				\r\n				settings.callback();\r\n				\r\n				doresize = true;\r\n				\r\n				pp_open = false;\r\n				\r\n				delete settings;\r\n			});\r\n		};\r\n	\r\n		/**\r\n		* Set the proper sizes on the containers and animate the content in.\r\n		*/\r\n		function _showContent(){\r\n			$('.pp_loaderIcon').hide();\r\n\r\n			// Calculate the opened top position of the pic holder\r\n			projectedTop = scroll_pos['scrollTop'] + ((windowHeight/2) - (pp_dimensions['containerHeight']/2));\r\n			if(projectedTop < 0) projectedTop = 0;\r\n\r\n			$ppt.fadeTo(settings.animation_speed,1);\r\n\r\n			// Resize the content holder\r\n			$pp_pic_holder.find('.pp_content')\r\n				.animate({\r\n					height:pp_dimensions['contentHeight'],\r\n					width:pp_dimensions['contentWidth']\r\n				},settings.animation_speed);\r\n			\r\n			// Resize picture the holder\r\n			$pp_pic_holder.animate({\r\n				'top': projectedTop,\r\n				'left': ((windowWidth/2) - (pp_dimensions['containerWidth']/2) < 0) ? 0 : (windowWidth/2) - (pp_dimensions['containerWidth']/2),\r\n				width:pp_dimensions['containerWidth']\r\n			},settings.animation_speed,function(){\r\n				$pp_pic_holder.find('.pp_hoverContainer,#fullResImage').height(pp_dimensions['height']).width(pp_dimensions['width']);\r\n\r\n				$pp_pic_holder.find('.pp_fade').fadeIn(settings.animation_speed); // Fade the new content\r\n\r\n				// Show the nav\r\n				if(isSet && _getFileType(pp_images[set_position])==\"image\") { $pp_pic_holder.find('.pp_hoverContainer').show(); }else{ $pp_pic_holder.find('.pp_hoverContainer').hide(); }\r\n			\r\n				if(settings.allow_expand) {\r\n					if(pp_dimensions['resized']){ // Fade the resizing link if the image is resized\r\n						$('a.pp_expand,a.pp_contract').show();\r\n					}else{\r\n						$('a.pp_expand').hide();\r\n					}\r\n				}\r\n				\r\n				if(settings.autoplay_slideshow && !pp_slideshow && !pp_open) $.prettyPhoto.startSlideshow();\r\n				\r\n				settings.changepicturecallback(); // Callback!\r\n				\r\n				pp_open = true;\r\n			});\r\n			\r\n			_insert_gallery();\r\n			pp_settings.ajaxcallback();\r\n		};\r\n		\r\n		/**\r\n		* Hide the content...DUH!\r\n		*/\r\n		function _hideContent(callback){\r\n			// Fade out the current picture\r\n			$pp_pic_holder.find('#pp_full_res object,#pp_full_res embed').css('visibility','hidden');\r\n			$pp_pic_holder.find('.pp_fade').fadeOut(settings.animation_speed,function(){\r\n				$('.pp_loaderIcon').show();\r\n				\r\n				callback();\r\n			});\r\n		};\r\n	\r\n		/**\r\n		* Check the item position in the gallery array, hide or show the navigation links\r\n		* @param setCount {integer} The total number of items in the set\r\n		*/\r\n		function _checkPosition(setCount){\r\n			(setCount > 1) ? $('.pp_nav').show() : $('.pp_nav').hide(); // Hide the bottom nav if it's not a set.\r\n		};\r\n	\r\n		/**\r\n		* Resize the item dimensions if it's bigger than the viewport\r\n		* @param width {integer} Width of the item to be opened\r\n		* @param height {integer} Height of the item to be opened\r\n		* @return An array containin the \"fitted\" dimensions\r\n		*/\r\n		function _fitToViewport(width,height){\r\n			resized = false;\r\n\r\n			_getDimensions(width,height);\r\n			\r\n			// Define them in case there's no resize needed\r\n			imageWidth = width, imageHeight = height;\r\n\r\n			if( ((pp_containerWidth > windowWidth) || (pp_containerHeight > windowHeight)) && doresize && settings.allow_resize && !percentBased) {\r\n				resized = true, fitting = false;\r\n			\r\n				while (!fitting){\r\n					if((pp_containerWidth > windowWidth)){\r\n						imageWidth = (windowWidth - 200);\r\n						imageHeight = (height/width) * imageWidth;\r\n					}else if((pp_containerHeight > windowHeight)){\r\n						imageHeight = (windowHeight - 200);\r\n						imageWidth = (width/height) * imageHeight;\r\n					}else{\r\n						fitting = true;\r\n					};\r\n\r\n					pp_containerHeight = imageHeight, pp_containerWidth = imageWidth;\r\n				};\r\n			\r\n\r\n				\r\n				if((pp_containerWidth > windowWidth) || (pp_containerHeight > windowHeight)){\r\n					_fitToViewport(pp_containerWidth,pp_containerHeight)\r\n				};\r\n				\r\n				_getDimensions(imageWidth,imageHeight);\r\n			};\r\n			\r\n			return {\r\n				width:Math.floor(imageWidth),\r\n				height:Math.floor(imageHeight),\r\n				containerHeight:Math.floor(pp_containerHeight),\r\n				containerWidth:Math.floor(pp_containerWidth) + (settings.horizontal_padding * 2),\r\n				contentHeight:Math.floor(pp_contentHeight),\r\n				contentWidth:Math.floor(pp_contentWidth),\r\n				resized:resized\r\n			};\r\n		};\r\n		\r\n		/**\r\n		* Get the containers dimensions according to the item size\r\n		* @param width {integer} Width of the item to be opened\r\n		* @param height {integer} Height of the item to be opened\r\n		*/\r\n		function _getDimensions(width,height){\r\n			width = parseFloat(width);\r\n			height = parseFloat(height);\r\n			\r\n			// Get the details height, to do so, I need to clone it since it's invisible\r\n			$pp_details = $pp_pic_holder.find('.pp_details');\r\n			$pp_details.width(width);\r\n			detailsHeight = parseFloat($pp_details.css('marginTop')) + parseFloat($pp_details.css('marginBottom'));\r\n			\r\n			$pp_details = $pp_details.clone().addClass(settings.theme).width(width).appendTo($('body')).css({\r\n				'position':'absolute',\r\n				'top':-10000\r\n			});\r\n			detailsHeight += $pp_details.height();\r\n			detailsHeight = (detailsHeight <= 34) ? 36 : detailsHeight; // Min-height for the details\r\n			$pp_details.remove();\r\n			\r\n			// Get the titles height, to do so, I need to clone it since it's invisible\r\n			$pp_title = $pp_pic_holder.find('.ppt');\r\n			$pp_title.width(width);\r\n			titleHeight = parseFloat($pp_title.css('marginTop')) + parseFloat($pp_title.css('marginBottom'));\r\n			$pp_title = $pp_title.clone().appendTo($('body')).css({\r\n				'position':'absolute',\r\n				'top':-10000\r\n			});\r\n			titleHeight += $pp_title.height();\r\n			$pp_title.remove();\r\n			\r\n			// Get the container size, to resize the holder to the right dimensions\r\n			pp_contentHeight = height + detailsHeight;\r\n			pp_contentWidth = width;\r\n			pp_containerHeight = pp_contentHeight + titleHeight + $pp_pic_holder.find('.pp_top').height() + $pp_pic_holder.find('.pp_bottom').height();\r\n			pp_containerWidth = width;\r\n		}\r\n	\r\n		function _getFileType(itemSrc){\r\n			if (itemSrc.match(/youtube\\.com\\/watch/i) || itemSrc.match(/youtu\\.be/i)) {\r\n				return 'youtube';\r\n			}else if (itemSrc.match(/vimeo\\.com/i)) {\r\n				return 'vimeo';\r\n			}else if(itemSrc.match(/\\b.mov\\b/i)){ \r\n				return 'quicktime';\r\n			}else if(itemSrc.match(/\\b.swf\\b/i)){\r\n				return 'flash';\r\n			}else if(itemSrc.match(/\\biframe=true\\b/i)){\r\n				return 'iframe';\r\n			}else if(itemSrc.match(/\\bajax=true\\b/i)){\r\n				return 'ajax';\r\n			}else if(itemSrc.match(/\\bcustom=true\\b/i)){\r\n				return 'custom';\r\n			}else if(itemSrc.substr(0,1) == '#'){\r\n				return 'inline';\r\n			}else{\r\n				return 'image';\r\n			};\r\n		};\r\n	\r\n		function _center_overlay(){\r\n			if(doresize && typeof $pp_pic_holder != 'undefined') {\r\n				scroll_pos = _get_scroll();\r\n				contentHeight = $pp_pic_holder.height(), contentwidth = $pp_pic_holder.width();\r\n\r\n				projectedTop = (windowHeight/2) + scroll_pos['scrollTop'] - (contentHeight/2);\r\n				if(projectedTop < 0) projectedTop = 0;\r\n				\r\n				if(contentHeight > windowHeight)\r\n					return;\r\n\r\n				$pp_pic_holder.css({\r\n					'top': projectedTop,\r\n					'left': (windowWidth/2) + scroll_pos['scrollLeft'] - (contentwidth/2)\r\n				});\r\n			};\r\n		};\r\n	\r\n		function _get_scroll(){\r\n			if (self.pageYOffset) {\r\n				return {scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};\r\n			} else if (document.documentElement && document.documentElement.scrollTop) { // Explorer 6 Strict\r\n				return {scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};\r\n			} else if (document.body) {// all other Explorers\r\n				return {scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft};\r\n			};\r\n		};\r\n	\r\n		function _resize_overlay() {\r\n			windowHeight = $(window).height(), windowWidth = $(window).width();\r\n			\r\n			if(typeof $pp_overlay != \"undefined\") $pp_overlay.height($(document).height()).width(windowWidth);\r\n		};\r\n	\r\n		function _insert_gallery(){\r\n			if(isSet && settings.overlay_gallery && _getFileType(pp_images[set_position])==\"image\") {\r\n				itemWidth = 52+5; // 52 beign the thumb width, 5 being the right margin.\r\n				navWidth = (settings.theme == \"facebook\" || settings.theme == \"pp_default\") ? 50 : 30; // Define the arrow width depending on the theme\r\n				\r\n				itemsPerPage = Math.floor((pp_dimensions['containerWidth'] - 100 - navWidth) / itemWidth);\r\n				itemsPerPage = (itemsPerPage < pp_images.length) ? itemsPerPage : pp_images.length;\r\n				totalPage = Math.ceil(pp_images.length / itemsPerPage) - 1;\r\n\r\n				// Hide the nav in the case there's no need for links\r\n				if(totalPage == 0){\r\n					navWidth = 0; // No nav means no width!\r\n					$pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').hide();\r\n				}else{\r\n					$pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').show();\r\n				};\r\n\r\n				galleryWidth = itemsPerPage * itemWidth;\r\n				fullGalleryWidth = pp_images.length * itemWidth;\r\n				\r\n				// Set the proper width to the gallery items\r\n				$pp_gallery\r\n					.css('margin-left',-((galleryWidth/2) + (navWidth/2)))\r\n					.find('div:first').width(galleryWidth+5)\r\n					.find('ul').width(fullGalleryWidth)\r\n					.find('li.selected').removeClass('selected');\r\n				\r\n				goToPage = (Math.floor(set_position/itemsPerPage) < totalPage) ? Math.floor(set_position/itemsPerPage) : totalPage;\r\n\r\n				$.prettyPhoto.changeGalleryPage(goToPage);\r\n				\r\n				$pp_gallery_li.filter(':eq('+set_position+')').addClass('selected');\r\n			}else{\r\n				$pp_pic_holder.find('.pp_content').unbind('mouseenter mouseleave');\r\n				// $pp_gallery.hide();\r\n			}\r\n		}\r\n	\r\n		function _build_overlay(caller){\r\n			// Inject Social Tool markup into General markup\r\n			if(settings.social_tools)\r\n				facebook_like_link = settings.social_tools.replace('{location_href}', encodeURIComponent(location.href)); \r\n\r\n			settings.markup = settings.markup.replace('{pp_social}',''); \r\n			\r\n			$('body').append(settings.markup); // Inject the markup\r\n			\r\n			$pp_pic_holder = $('.pp_pic_holder') , $ppt = $('.ppt'), $pp_overlay = $('div.pp_overlay'); // Set my global selectors\r\n			\r\n			// Inject the inline gallery!\r\n			if(isSet && settings.overlay_gallery) {\r\n				currentGalleryPage = 0;\r\n				toInject = \"\";\r\n				for (var i=0; i < pp_images.length; i++) {\r\n					if(!pp_images[i].match(/\\b(jpg|jpeg|png|gif)\\b/gi)){\r\n						classname = 'default';\r\n						img_src = '';\r\n					}else{\r\n						classname = '';\r\n						img_src = pp_images[i];\r\n					}\r\n					toInject += \"<li class='\"+classname+\"'><a href='#'><img src='\" + img_src + \"' width='50' alt='' /></a></li>\";\r\n				};\r\n				\r\n				toInject = settings.gallery_markup.replace(/{gallery}/g,toInject);\r\n				\r\n				$pp_pic_holder.find('#pp_full_res').after(toInject);\r\n				\r\n				$pp_gallery = $('.pp_pic_holder .pp_gallery'), $pp_gallery_li = $pp_gallery.find('li'); // Set the gallery selectors\r\n				\r\n				$pp_gallery.find('.pp_arrow_next').click(function(){\r\n					$.prettyPhoto.changeGalleryPage('next');\r\n					$.prettyPhoto.stopSlideshow();\r\n					return false;\r\n				});\r\n				\r\n				$pp_gallery.find('.pp_arrow_previous').click(function(){\r\n					$.prettyPhoto.changeGalleryPage('previous');\r\n					$.prettyPhoto.stopSlideshow();\r\n					return false;\r\n				});\r\n				\r\n				$pp_pic_holder.find('.pp_content').hover(\r\n					function(){\r\n						$pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeIn();\r\n					},\r\n					function(){\r\n						$pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeOut();\r\n					});\r\n\r\n				itemWidth = 52+5; // 52 beign the thumb width, 5 being the right margin.\r\n				$pp_gallery_li.each(function(i){\r\n					$(this)\r\n						.find('a')\r\n						.click(function(){\r\n							$.prettyPhoto.changePage(i);\r\n							$.prettyPhoto.stopSlideshow();\r\n							return false;\r\n						});\r\n				});\r\n			};\r\n			\r\n			\r\n			// Inject the play/pause if it's a slideshow\r\n			if(settings.slideshow){\r\n				$pp_pic_holder.find('.pp_nav').prepend('<a href=\"#\" class=\"pp_play\">Play</a>')\r\n				$pp_pic_holder.find('.pp_nav .pp_play').click(function(){\r\n					$.prettyPhoto.startSlideshow();\r\n					return false;\r\n				});\r\n			}\r\n			\r\n			$pp_pic_holder.attr('class','pp_pic_holder ' + settings.theme); // Set the proper theme\r\n			\r\n			$pp_overlay\r\n				.css({\r\n					'opacity':0,\r\n					'height':$(document).height(),\r\n					'width':$(window).width()\r\n					})\r\n				.bind('click',function(){\r\n					if(!settings.modal) $.prettyPhoto.close();\r\n				});\r\n\r\n			$('a.pp_close').bind('click',function(){ $.prettyPhoto.close(); return false; });\r\n\r\n\r\n			if(settings.allow_expand) {\r\n				$('a.pp_expand').bind('click',function(e){\r\n					// Expand the image\r\n					if($(this).hasClass('pp_expand')){\r\n						$(this).removeClass('pp_expand').addClass('pp_contract');\r\n						doresize = false;\r\n					}else{\r\n						$(this).removeClass('pp_contract').addClass('pp_expand');\r\n						doresize = true;\r\n					};\r\n				\r\n					_hideContent(function(){ $.prettyPhoto.open(); });\r\n			\r\n					return false;\r\n				});\r\n			}\r\n		\r\n			$pp_pic_holder.find('.pp_previous, .pp_nav .pp_arrow_previous').bind('click',function(){\r\n				$.prettyPhoto.changePage('previous');\r\n				$.prettyPhoto.stopSlideshow();\r\n				return false;\r\n			});\r\n		\r\n			$pp_pic_holder.find('.pp_next, .pp_nav .pp_arrow_next').bind('click',function(){\r\n				$.prettyPhoto.changePage('next');\r\n				$.prettyPhoto.stopSlideshow();\r\n				return false;\r\n			});\r\n			\r\n			_center_overlay(); // Center it\r\n		};\r\n\r\n		if(!pp_alreadyInitialized && getHashtag()){\r\n			pp_alreadyInitialized = true;\r\n			\r\n			// Grab the rel index to trigger the click on the correct element\r\n			hashIndex = getHashtag();\r\n			hashRel = hashIndex;\r\n			hashIndex = hashIndex.substring(hashIndex.indexOf('/')+1,hashIndex.length-1);\r\n			hashRel = hashRel.substring(0,hashRel.indexOf('/'));\r\n\r\n			// Little timeout to make sure all the prettyPhoto initialize scripts has been run.\r\n			// Useful in the event the page contain several init scripts.\r\n			setTimeout(function(){ $(\"a[\"+pp_settings.hook+\"^='\"+hashRel+\"']:eq(\"+hashIndex+\")\").trigger('click'); },50);\r\n		}\r\n		\r\n		return this.unbind('click.prettyphoto').bind('click.prettyphoto',$.prettyPhoto.initialize); // Return the jQuery object for chaining. The unbind method is used to avoid click conflict when the plugin is called more than once\r\n	};\r\n	\r\n	function getHashtag(){\r\n		var url = location.href;\r\n		hashtag = (url.indexOf('#prettyPhoto') !== -1) ? decodeURI(url.substring(url.indexOf('#prettyPhoto')+1,url.length)) : false;\r\n\r\n		return hashtag;\r\n	};\r\n	\r\n	function setHashtag(){\r\n		if(typeof theRel == 'undefined') return; // theRel is set on normal calls, it's impossible to deeplink using the API\r\n		location.hash = theRel + '/'+rel_index+'/';\r\n	};\r\n	\r\n	function clearHashtag(){\r\n		if ( location.href.indexOf('#prettyPhoto') !== -1 ) location.hash = \"prettyPhoto\";\r\n	}\r\n	\r\n	function getParam(name,url){\r\n	  name = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\r\n	  var regexS = \"[\\\\?&]\"+name+\"=([^&#]*)\";\r\n	  var regex = new RegExp( regexS );\r\n	  var results = regex.exec( url );\r\n	  return ( results == null ) ? \"\" : results[1];\r\n	}\r\n	\r\n})(jQuery);\r\n\r\nvar pp_alreadyInitialized = false; // Used for the deep linking to make sure not to call the same function several times.\r\n";
var mod_pagespeed_14jYofL$sM = "jQuery(document).ready(function () {\r\n\r\n    jQuery(\".section-title-holder\").stick_in_parent({offset_top: 64}).on(\"sticky_kit:stick\", function (e) {\r\n        jQuery('.menu-wrapper, .menu-wrapper .sub-menu').css('backgroundColor', jQuery(this).css(\"backgroundColor\"));\r\n        jQuery('.menu-wrapper a, .mob-menu').css('color', jQuery(this).find('.section-num span').css(\"color\"));\r\n    });\r\n\r\n    jQuery(\".section-title-holder\").stick_in_parent({offset_top: 64}).on(\"sticky_kit:unbottom\", function (e) {\r\n        jQuery('.menu-wrapper, .menu-wrapper .sub-menu').css('backgroundColor', jQuery(this).css(\"backgroundColor\"));\r\n        jQuery('.menu-wrapper a, .mob-menu').css('color', jQuery(this).find('.section-num span').css(\"color\"));\r\n    });\r\n\r\n\r\n    //Placeholder show/hide\r\n    jQuery('input, textarea').focus(function () {\r\n        jQuery(this).data('placeholder', jQuery(this).attr('placeholder'));\r\n        jQuery(this).attr('placeholder', '');\r\n    });\r\n    jQuery('input, textarea').blur(function () {\r\n        jQuery(this).attr('placeholder', jQuery(this).data('placeholder'));\r\n    });\r\n\r\n\r\n    //Portfolio\r\n    var grid = jQuery('.grid').imagesLoaded(function () {\r\n        grid.isotope({\r\n            itemSelector: '.grid-item',\r\n            masonry: {\r\n                columnWidth: '.grid-sizer'\r\n            }\r\n        }\r\n        );\r\n        //Fix for portfolio item text\r\n        jQuery('.portfolio-text-holder').each(function () {\r\n            jQuery(this).find('.portfolio-text-wrapper').css('margin-top', (jQuery(this).height() - jQuery(this).find('.portfolio-text-wrapper').height()) / 2 - 70);\r\n        });\r\n\r\n        //Fix for portfolio hover text fade in/out\r\n        jQuery('.grid-item a').hover(function () {\r\n            jQuery(this).find('.portfolio-text-holder').fadeIn('fast');\r\n        }, function () {\r\n            jQuery(this).find('.portfolio-text-holder').fadeOut('fast');\r\n        });\r\n    });\r\n\r\n});\r\n\r\n\r\njQuery(window).load(function () {\r\n\r\n    //Show-Hide Mobile Menu\r\n    jQuery('.mob-menu').on(\"click\", showHideMobMenu);\r\n    if (jQuery(\"body\").width() <= 925)\r\n    {\r\n        jQuery('.main-menu a').on(\"click\", hideMobMenuItemClick);\r\n    }\r\n\r\n    //Set each image slider\r\n    jQuery(\".image-slider\").each(function () {\r\n        var id = jQuery(this).attr('id');\r\n        var auto_value = window[id + '_auto'];\r\n        if (auto_value == 'false')\r\n        {\r\n            auto_value = false;\r\n        } else {\r\n            auto_value = true;\r\n        }\r\n\r\n        var hover_pause = window[id + '_hover'];\r\n        if (hover_pause == 'true')\r\n        {\r\n            hover_pause = 'resume';\r\n        } else {\r\n            hover_pause = false;\r\n        }\r\n\r\n        var speed_value = window[id + '_speed'];\r\n        jQuery('#' + id).carouFredSel({\r\n            responsive: true,\r\n            width: 'variable',\r\n            auto: {\r\n                play: auto_value,\r\n                pauseOnHover: hover_pause\r\n            },\r\n            next: '#' + id + '_next',\r\n            scroll: {\r\n                fx: 'crossfade',\r\n                duration: parseFloat(speed_value)\r\n            },\r\n            swipe: {\r\n                onMouse: true,\r\n                onTouch: true\r\n            },\r\n            items: {\r\n                visible: 1,\r\n                height: 'variable'\r\n            }\r\n        });\r\n    });\r\n    jQuery('.image-slider-wrapper').each(function () {\r\n        var slider_width = jQuery(this).width();\r\n        var pagination_width = jQuery(this).find('.carousel_pagination').width();\r\n        jQuery(this).find('.carousel_pagination').css(\"margin-left\", (slider_width - pagination_width) / 2);\r\n    });\r\n\r\n\r\n    //Set each testimonial slider\r\n    jQuery(\".testimonial\").each(function () {\r\n        var id = jQuery(this).attr('id');\r\n        var auto_value = window[id + '_auto'];\r\n        if (auto_value == 'false')\r\n        {\r\n            auto_value = false;\r\n        } else {\r\n            auto_value = true;\r\n        }\r\n\r\n        var hover_pause = window[id + '_hover'];\r\n        if (hover_pause == 'true')\r\n        {\r\n            hover_pause = 'resume';\r\n        } else {\r\n            hover_pause = false;\r\n        }\r\n\r\n        var speed_value = window[id + '_speed'];\r\n        jQuery('#' + id).carouFredSel({\r\n            responsive: true,\r\n            width: 'variable',\r\n            auto: {\r\n                play: auto_value,\r\n                pauseOnHover: hover_pause\r\n            },\r\n            next: '#' + id + '_next',\r\n            scroll: {\r\n                fx: 'crossfade',\r\n                duration: parseFloat(speed_value)\r\n            },\r\n            swipe: {\r\n                onMouse: true,\r\n                onTouch: true\r\n            },\r\n            items: {\r\n                height: 'variable'\r\n            }\r\n        });\r\n    });\r\n\r\n    jQuery('.carousel_pagination').each(function () {\r\n        var pagination_width = jQuery(this).width();\r\n        var windw_width = jQuery('.testimonial-slider-holder').width();\r\n        jQuery(this).css(\"margin-left\", (windw_width - pagination_width) / 2);\r\n    });\r\n\r\n    //Set each FW image slider\r\n    jQuery(\".fw-image-slider\").each(function () {\r\n        var id = jQuery(this).attr('id');\r\n\r\n        var auto_value = window[id + '_auto'];\r\n        if (auto_value == 'false')\r\n        {\r\n            auto_value = false;\r\n        } else {\r\n            auto_value = true;\r\n        }\r\n\r\n        var hover_pause = window[id + '_hover'];\r\n        if (hover_pause == 'true')\r\n        {\r\n            hover_pause = 'resume';\r\n        } else {\r\n            hover_pause = false;\r\n        }\r\n\r\n        var speed_value = window[id + '_speed'];\r\n        var start_value = window[id + '_start'];\r\n        var width_value = window[id + '_width'];\r\n        var num_value = window[id + '_num'];\r\n\r\n        jQuery('#' + id).carouFredSel({\r\n            responsive: true,\r\n            width: '100%',\r\n            auto: {\r\n                play: auto_value,\r\n                pauseOnHover: hover_pause\r\n            },\r\n            pagination: '#' + id + '_fw_image_slide_pager',\r\n            next: '#' + id + '_fw_next',\r\n            scroll: {\r\n                duration: parseFloat(speed_value)\r\n            },\r\n            swipe: {\r\n                onMouse: true,\r\n                onTouch: true\r\n            },\r\n            items: {\r\n                width: parseFloat(width_value),\r\n                height: 'auto', //	optionally resize item-height\r\n                visible: {\r\n                    min: 1,\r\n                    max: parseFloat(num_value)\r\n                },\r\n                start: parseFloat(start_value)\r\n            }\r\n        });\r\n    });\r\n\r\n\r\n    //PrettyPhoto initial\r\n    jQuery('a[data-rel]').each(function () {\r\n        jQuery(this).attr('rel', jQuery(this).data('rel'));\r\n    });\r\n    jQuery(\"a[rel^='prettyPhoto']\").prettyPhoto({\r\n        animation_speed: 'fast', /* fast/slow/normal */\r\n        slideshow: false, /* false OR interval time in ms */\r\n        autoplay_slideshow: false, /* true/false */\r\n        opacity: 0.80, /* Value between 0 and 1 */\r\n        show_title: true, /* true/false */\r\n        allow_resize: true, /* Resize the photos bigger than viewport. true/false */\r\n        default_width: 500,\r\n        default_height: 344,\r\n        counter_separator_label: '/', /* The separator for the gallery counter 1 \"of\" 2 */\r\n        theme: 'pp_default', /* light_rounded / dark_rounded / light_square / dark_square / facebook */\r\n        hideflash: false, /* Hides all the flash object on a page, set to TRUE if flash appears over prettyPhoto */\r\n        wmode: 'opaque', /* Set the flash wmode attribute */\r\n        autoplay: true, /* Automatically start videos: True/False */\r\n        modal: false, /* If set to true, only the close button will close the window */\r\n        overlay_gallery: false, /* If set to true, a gallery will overlay the fullscreen image on mouse over */\r\n        keyboard_shortcuts: true, /* Set to false if you open forms inside prettyPhoto */\r\n        deeplinking: false,\r\n        social_tools: false,\r\n        iframe_markup: '<iframe src =\"{path}\" width=\"{width}\" height=\"{height}\" frameborder=\"no\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'\r\n    });\r\n\r\n    var $videoDefaultWidth = Math.ceil(jQuery('body').width() * 0.7);\r\n    var $videoDefaultHeight = Math.ceil($videoDefaultWidth * 0.5625);\r\n\r\n    jQuery(\"a[rel^='prettyPhoto']\").each(function () {\r\n\r\n        var str = jQuery(this).attr('href');\r\n        if ((str.indexOf(\"youtube\") >= 0 || (str.indexOf(\"vimeo\")) >= 0))\r\n        {\r\n            jQuery(this).attr(\"href\", str + \"&width=\" + $videoDefaultWidth + \"&height=\" + $videoDefaultHeight);\r\n        }\r\n    });\r\n\r\n    //Set menu\r\n    jQuery('.main-menu').smartmenus({\r\n        subMenusSubOffsetX: 1,\r\n        subMenusSubOffsetY: -8,\r\n        markCurrentItem: true\r\n    });\r\n    var $mainMenu = jQuery('.main-menu').on('click', 'span.sub-arrow', function (e) {\r\n        var obj = $mainMenu.data('smartmenus');\r\n        if (obj.isCollapsible()) {\r\n            var $item = jQuery(this).parent(),\r\n                    $sub = $item.parent().dataSM('sub');\r\n            $sub.dataSM('arrowClicked', true);\r\n        }\r\n    }).bind({\r\n        'beforeshow.smapi': function (e, menu) {\r\n            var obj = $mainMenu.data('smartmenus');\r\n            if (obj.isCollapsible()) {\r\n                var $menu = jQuery(menu);\r\n                if (!$menu.dataSM('arrowClicked')) {\r\n                    return false;\r\n                }\r\n                $menu.removeDataSM('arrowClicked');\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    jQuery('.section-title-holder').trigger(\"sticky_kit:recalc\");\r\n\r\n    jQuery('.doc-loader').fadeOut('fast');\r\n});\r\n\r\n\r\njQuery(window).resize(function () {\r\n\r\n    //Show-Hide Mobile Menu        \r\n    if (jQuery(\"body\").width() <= 925)\r\n    {\r\n        jQuery('.main-menu a').on(\"click\", hideMobMenuItemClick);\r\n    }\r\n\r\n    var $videoDefaultWidth = Math.ceil(jQuery('body').width() * 0.7);\r\n    var $videoDefaultHeight = Math.ceil($videoDefaultWidth * 0.5625);\r\n    jQuery(\"a[rel^='prettyPhoto']\").each(function () {\r\n\r\n        var str = jQuery(this).attr('href');\r\n        str = str.split('&width');\r\n        if ((str[0].indexOf(\"youtube\") >= 0 || (str[0].indexOf(\"vimeo\")) >= 0))\r\n        {\r\n            jQuery(this).attr(\"href\", str[0] + \"&width=\" + $videoDefaultWidth + \"&height=\" + $videoDefaultHeight);\r\n        }\r\n    });\r\n    jQuery('.image-slider-wrapper').each(function () {\r\n        var slider_width = jQuery(this).width();\r\n        var pagination_width = jQuery(this).find('.carousel_pagination').width();\r\n        jQuery(this).find('.carousel_pagination').css(\"margin-left\", (slider_width - pagination_width) / 2);\r\n    });\r\n\r\n\r\n    //Fix for portfolio item text\r\n    jQuery('.portfolio-text-holder').each(function () {\r\n        jQuery(this).find('.portfolio-text-wrapper').css('margin-top', (jQuery(this).height() - jQuery(this).find('.portfolio-text-wrapper').height()) / 2 - 70);\r\n    });\r\n});\r\n//------------------------------------------------------------------------\r\n//Helper Methods \u002d->\r\n//------------------------------------------------------------------------\r\n\r\n\r\nvar showHideMobMenu = function (e) {\r\n    jQuery('.main-menu').slideToggle();\r\n};\r\n\r\nvar hideMobMenuItemClick = function (e) {\r\n    if (jQuery('.mob-menu').is(':visible'))\r\n    {\r\n        jQuery('.main-menu').slideUp();\r\n    }\r\n};\r\n\r\nfunction is_touch_device() {\r\n    return !!('ontouchstart' in window);\r\n}\r\n\r\nfunction isValidEmailAddress(emailAddress) {\r\n    var pattern = /^([a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+(\\.[a-z\\d!#$%&'*+\\-\\/=?^_`{|}~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+)*|\"((([ \\t]*\\r\\n)?[ \\t]+)?([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*(([ \\t]*\\r\\n)?[ \\t]+)?\")@(([a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\d\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.)+([a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF][a-z\\d\\-._~\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]*[a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])\\.?$/i;\r\n    return pattern.test(emailAddress);\r\n}\r\n\r\nvar SendMail = function () {\r\n\r\n    var emailVal = jQuery('#contact-email').val();\r\n\r\n    if (isValidEmailAddress(emailVal)) {\r\n        var params = {\r\n            'action': 'SendMessage',\r\n            'name': jQuery('#name').val(),\r\n            'email': jQuery('#contact-email').val(),\r\n            'subject': jQuery('#subject').val(),\r\n            'message': jQuery('#message').val()\r\n        };\r\n        jQuery.ajax({\r\n            type: \"POST\",\r\n            url: \"php/sendMail.php\",\r\n            data: params,\r\n            success: function (response) {\r\n                if (response) {\r\n                    var responseObj = jQuery.parseJSON(response);\r\n                    if (responseObj.ResponseData)\r\n                    {\r\n                        alert(responseObj.ResponseData);\r\n                    }\r\n                }\r\n            },\r\n            error: function (xhr, ajaxOptions, thrownError) {\r\n                //xhr.status : 404, 303, 501...\r\n                var error = null;\r\n                switch (xhr.status)\r\n                {\r\n                    case \"301\":\r\n                        error = \"Redirection Error!\";\r\n                        break;\r\n                    case \"307\":\r\n                        error = \"Error, temporary server redirection!\";\r\n                        break;\r\n                    case \"400\":\r\n                        error = \"Bad request!\";\r\n                        break;\r\n                    case \"404\":\r\n                        error = \"Page not found!\";\r\n                        break;\r\n                    case \"500\":\r\n                        error = \"Server is currently unavailable!\";\r\n                        break;\r\n                    default:\r\n                        error = \"Unespected error, please try again later.\";\r\n                }\r\n                if (error) {\r\n                    alert(error);\r\n                }\r\n            }\r\n        });\r\n    } else\r\n    {\r\n        alert('Your email is not in valid format');\r\n    }\r\n\r\n\r\n};\r\n";
